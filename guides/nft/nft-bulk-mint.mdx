---
id: nft-bulk-mint
slug: /nft-bulk-mint
title: NFT Bulk Minting Tool
---

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
```

This document will show you how to use Chia's NFT bulk minting tool. 

First, some background. Chia uses the [coin set](https://docs.chia.net/docs/04coin-set-model/intro) model of accounting. This is similar to Bitcoin's UTXO model. Most other blockchains, however, use an account model to track the system's overall state.

The coin set model has [many advantages](https://docs.chia.net/docs/04coin-set-model/coin_set_vs_account) over the account model, but there are some tradeoffs. In the case of NFTs, they are implemented as [singletons](https://chialisp.com/docs/puzzles/singletons), so minting more than a few at a time can be a slow and cumbersome process. [todo describe better]

Enter Chia's bulk minting tool. This tool allows you to mint an arbitrarily large number of NFTs at once, complete with separate [offer](https://chialisp.com/docs/puzzles/offers) for each of them. Want to mint your new collection of 10,000 PFPs on the fly? You've come to the right place!

If you just want a listing of the bulk minting tool's basic commands, check out our [CLI reference](https://docs.chia.net/docs/13cli/bulk_mint_cli). [todo implement]

<details>
  <summary>Note about Python <code>RuntimeError</code> on Windows</summary>

If you are running on Windows, you might occasionally see a Python Runtime Error. This is a [known issue in Python](https://github.com/aio-libs/aiohttp/issues/4324 "More info about this issue") and can be safely ignored. For example:

```bash
chia stop -d all

Exception ignored in: function _ProactorBasePipeTransport.__del__ at 0x000001A719716160
Traceback (most recent call last):
  File "C:\Users\User\AppData\Local\Programs\Python\Python39\lib\asyncio\proactor_events.py", line 116, in __del__
    self.close()
  File "C:\Users\User\AppData\Local\Programs\Python\Python39\lib\asyncio\proactor_events.py", line 108, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "C:\Users\User\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 746, in call_soon
    self._check_closed()
  File "C:\Users\User\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 510, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
daemon: {'ack': True, 'command': 'exit', 'data': {'success': True}, 'destination': 'client', 'origin': 'daemon', 'request_id': '0de5449121b6873ce18661b2adc4213d7dc795c2943ff7f4be9502058e8eaba0'}
```

</details>

## Download the testnet database

We strongly recommend that you test the bulk minting tool on the testnet before attempting to use it on mainnet. In addition, you will need to run a fully synced node in order to use this tool (this is true for both testnet and mainnet).

If you do not already have a synced testnet node, you safely download a copy of the database. **Do not attempt this on mainnet.** [Click here to begin the download.](https://download.chia.net/testnet10/blockchain_v2_testnet10.sqlite.gz "Chia's testnet10 database download site") Save the file to your Downloads folder.

:::note
At the time of this writing, the file you will download is around 25 GB, compressed. Uncompressed, it will be around 50 GB. However, this file increases in size every day. You may want to double check that you have plenty of free space before proceeding with the download.
:::

You may continue with the next steps while the download is in progress.

## Install and configure the bulk minting tool

This section will show you how to download and install the bulk minting tool. If Chia is already installed on your system, make sure it is stopped before continuing:

```bash
chia stop -d all
```

:::note
If you don't already have the `git` CLI tool installed, [follow these instructions](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) to install it
:::

1. The bulk minting tool is in the [chianft](https://github.com/Chia-Network/chianft "chianft") GitHub repository. 

In order to clone this repository, first open a PowerShell (Windows) or bash terminal (Linux and MacOS) window. Next, create a new directory and run the `git clone` command:

```bash
mkdir chianft
cd chianft
git clone https://github.com/Chia-Network/chianft.git -b main
```

2. Create a new virtual environment and then activate it:

   ```mdx-code-block
   <Tabs
     defaultValue="windows"
     groupId="os"
     values={[
       {label: 'Windows', value: 'windows'},
       {label: 'Linux', value: 'linux'},
       {label: 'macOS', value: 'macos'},
     ]}>
     <TabItem value="windows">
   ```

   ```powershell
   python -m venv venv
   .\venv\Scripts\Activate.ps1
   ```

   ```mdx-code-block
   </TabItem>
   <TabItem value="linux">
   ```

   ```bash
   python3 -m venv venv
   . ./venv/bin/activate
   ```

   ```mdx-code-block
     </TabItem>
     <TabItem value="macos">
   ```

   ```bash
   python3 -m venv venv
   . ./venv/bin/activate
   ```

   ```mdx-code-block
     </TabItem>
   </Tabs>
   ```

3. Install the bulk mint tool. This will install a copy of Chia in your virtual environment, as well as all other dependencies for the tool:

```bash
pip install --editable .[dev]
```

4. **IMPORTANT:** Run the following command to set up Chia to use the testnet:

```bash
chia configure --testnet true
```

We recommend that you use `INFO` level logging instead of the default `WARNING` level. To do this, run:

```bash
chia configure --set-log-level INFO
```

We recommend that you use a public/private key pair for testnet that is separate from your mainnet keys. If you don't have a separate set of testnet keys, generate them:

```bash
chia keys generate
```

This will give an output such as the following:

```bash
Generating private key
Added private key with public key fingerprint 3049838316
(...)
```

:::tip
It is good security practice to use this set of keys for testnet development only. In case of key compromise, your TXCH and NFTs will be sandboxed from your XCH.
:::

If you generated new testnet keys in the last step, we recommend that you write down your seed phrase for later recovery. Run the following:

```bash
chia keys show --show-mnemonic-seed
```

You'll be shown your public and private keys. The last line of the output will be a list of 24 secret words. This is your _seed phrase_. **Carefully copy the words on paper and store them in a secure location.** Order is important.

```text
Showing all public and private keys

Fingerprint: 3049838316
(...)
	Mnemonic seed (24 secret words):
youth stomach social aware clay pottery benefit asthma mail cry rubber panda wife around provide atom cute sand staff exotic pink east gloom minute
```

:::warning important
Your seed phrase is all that is required to recover your wallet. If you lose your seed phrase, recovery will not be possible. If a bad actor gains access to your seed phrase, they'll be able to steal your Chia assets, including XCH, CATs and NFTs.
:::

:::info
If you ever need to display your address, run `chia keys show`. This command will only output your public keys and address; your private keys and seed phrase will not be shown.
:::

5. In order to continue, you'll need to have some TXCH in your wallet. If your total balance is 0, you can obtain 1 TXCH from our faucet. Copy the value of "First wallet address:" from the output of the `chia keys show` command. It will be a long string beginning with "txch".

Open our [testnet faucet page](https://testnet10-faucet.chia.net "Chia's testnet10 faucet link"). Paste your address and click "Submit".

You'll receive this message: `Accepted. Your request is in the queue and will be processed in the order it was received.` At some point you'll receive 1 TXCH. Depending on how busy the faucet and the testnet are, this could take several minutes. However, you don't need to wait for your coins to arrive before continuing.

6. Create the folder where your database will reside (if it doesn't already exist):

```bash
mkdir ~/.chia/mainnet/db
```

7. If you downloaded a copy of the testnet database, you'll need to wait for the download to complete before continuing. After the download has completed, use an archive manager such as [7-Zip](https://www.7-zip.org/ "7-Zip's website") to extract the file. You should now have a file in your Downloads folder called `blockchain_v2_testnet10.sqlite`.

Move the database to the folder you just created:

```bash
mv ~/Downloads/blockchain_v2_testnet10.sqlite ~/.chia/mainnet/db
```

8. Start the full node, which will begin syncing to the database file:

```bash
chia start node
chia_full_node: started
```

Check the sync status:

```bash
chia show -s
```

Eventually, it will say `Full Node Synced`:

```text
Network: testnet10    Port: 58444   RPC Port: 8555
Node ID: 82a73b06b3a5f9493a3ac4e3d903026b39c85b748158ba41c623d531947f2a2a
Genesis Challenge: ae83525ba8d1dd3f09b277de18ca3e43fc0af20d20c4b3e92ef2a48bd291ccb2
Current Blockchain Status: Full Node Synced
```

9. Start your wallet by running:

```bash
chia start wallet
```

Wait for your wallet to sync. You can view the status of your wallet with the following command:

```bash
chia wallet show
```

If you have more than one wallet key, be sure to select the correct key/fingerprint, which you obtained from the `chia keys show` command:

```text
Wallet keys:
1)   502984008
2) * 3027243821 (Not Synced)
Choose a wallet key [1-2] ('q' to quit, or Enter to use 3027243821):
Wallet height: 938814
Sync status: Syncing...
```

Syncing should only require a few minutes, unless your wallet has a large number of previous transactions. Eventually, the `chia wallet show` command will show that your wallet has been synced. For example:

```text
Wallet height: 1373085
Sync status: Synced
Balances, fingerprint: 3027243821

Chia Wallet:
   -Total Balance:         27.308704999834 txch (27308704999834 mojo)
   -Pending Total Balance: 27.308704999834 txch (27308704999834 mojo)
   -Spendable:             27.308704999834 txch (27308704999834 mojo)
   -Type:                  STANDARD_WALLET
   -Wallet ID:             1
```

7. In order to run the bulk mint tool, you will need to have an NFT wallet that is associated with a DID. You will need to have some TXCH in order to create these wallet. If your requested TXCH has not yet arrived, post your address on the #dev channel on Keybase. Someone might be able to send some to you.

In order to create a DID, run the following command. The `-n` is for the name of the DID. This can be anything. For example:

```bash
chia wallet did create -n bulk_mint_DID
```

This will output two success messages, such as:

```
Successfully created a DID wallet with name bulk_mint_DID and id 2 on key 3027243821
Successfully created a DID did:chia:1tl0nt76u7327duz648scr2ddr8n3zzhvgjhacnwpvtskxwzgg0rqq5775s in the newly created DID wallet
```

8. Next, run the command to create an NFT wallet that is associated with the DID. This command has three flags:
  * `-f <wallet fingerprint>`
  * `-di <DID ID>`
  * `-n <NFT wallet name`

For example:

```bash
chia wallet nft create -f 3219125921 -di did:chia:16ftef6dnwlq0z0d2lqgu4n4us6lqfcl6ewaw8d3cm99ee9w6ngjscwvpyu -n "NFT Wallet for bulk minting"
```

This command will output a success message, such as:

```bash
Successfully created an NFT wallet with id 3 on key 3027243821
```

The `chia wallet show` command should now show at least three wallets: your Chia wallet, DID wallet and NFT wallet:

```bash
Wallet height: 1373111
Sync status: Synced
Balances, fingerprint: 3027243821

Chia Wallet:
   -Total Balance:         27.308704999833 txch (27308704999833 mojo)
   -Pending Total Balance: 27.308704999833 txch (27308704999833 mojo)
   -Spendable:             27.308704999833 txch (27308704999833 mojo)
   -Type:                  STANDARD_WALLET
   -Wallet ID:             1

bulk_mint_DID:
   -Total Balance:         1.0
   -Pending Total Balance: 1.0
   -Spendable:             1.0
   -Type:                  DECENTRALIZED_ID
   -DID ID:                did:chia:1tl0nt76u7327duz648scr2ddr8n3zzhvgjhacnwpvtskxwzgg0rqq5775s
   -Wallet ID:             2

bulk_mint_DID:
   -Total Balance:         0.0
   -Pending Total Balance: 0.0
   -Spendable:             0.0
   -Type:                  NFT
   -DID ID:                did:chia:1tl0nt76u7327duz648scr2ddr8n3zzhvgjhacnwpvtskxwzgg0rqq5775s
   -Wallet ID:             3
```

Once you have a synced full node, some TXCH, a DID wallet, and an NFT wallet, you may proceed to the next section. 

<details>
  <summary>Note about Chia wallets</summary>

In Chia, each public/private key pair can hold multiple wallets of various types.

A "fingerprint" is a 4-byte hash of a public key. The computer running the examples we'll use in the next sections had two public/private key pairs, and thus two fingerprints, labeled `1)` and `2)`.

Note that simultaneous syncing of multiple fingerprints is not currently possible. Whether you're using the CLI or the GUI (in general, not just for NFTs) you have to select one of the fingerprints to sync, while the other will be temporarily ignored and not synced.

Within each of the fingerprints, you can store multiple wallets of various types. The default wallet is a `Chia Wallet`, aka a `STANDARD_WALLET`. This label is [part of an enum](https://github.com/Chia-Network/chia-blockchain/blob/main/chia/wallet/util/wallet_types.py) with a value of `0`. The other wallet types are as follows:

```python
STANDARD_WALLET = 0
RATE_LIMITED = 1
ATOMIC_SWAP = 2
AUTHORIZED_PAYEE = 3
MULTI_SIG = 4
CUSTODY = 5
CAT = 6
RECOVERABLE = 7
DECENTRALIZED_ID = 8
POOLING_WALLET = 9
NFT = 10
```

A few notes about this enum:

- The only types that are supported as of June 2022 are STANDARD_WALLET, DECENTRALIZED_ID, CAT, and NFT
- Each fingerprint/Wallet Key can support _each_ of the following:
  - One `STANDARD_WALLET`
  - An unbounded number of `CAT`s
  - An unbounded number of `DECENTRALIZED_ID`s
  - One `NFT` wallet per `DECENTRALIZED_ID` (where each `NFT` wallet is associated with exactly one `DECENTRALIZED_ID`)
  - One additional `NFT` wallet that is not associated a `DECENTRALIZED_ID`
- If an existing `NFT` wallet is already associated with a `DECENTRALIZED_ID`, then an attempt to create a new `NFT` wallet associated with the same `DECENTRALIZED_ID` will pass, but it will not actually create the `NFT` wallet because it already exists
- If an existing `NFT` wallet is not associated with a `DECENTRALIZED_ID`, then an attempt to create a new `NFT` wallet that is not associated with a `DECENTRALIZED_ID` will pass, but it will not actually create the `NFT` wallet because it already exists
- In addition to a type, each wallet also has a `Wallet ID`. This is simply an integer that increments for each new wallet.

For example, the following setup would be possible to run on a single computer:

- Wallet Key 1 (not synced)
  - Chia Wallet (Type = STANDARD_WALLET, Wallet ID = 1)
  - Marmot (Type = CAT, Wallet ID = 2)
- Wallet Key 2 (synced)
  - Chia Wallet (Type = STANDARD_WALLET, Wallet ID = 1)
  - NFT Wallet (Type = NFT, Wallet ID = 2)
  - Marmot (Type = CAT, Wallet ID = 3)
  - Spacebucks (Type = CAT, Wallet ID = 4)
- Wallet Key 3 (synced)
  - Chia Wallet (Type = STANDARD_WALLET, Wallet ID = 1)
  - NFT Wallet (Type = NFT, Wallet ID = 2, not associated with a DID)
  - DID Wallet (Type = DECENTRALIZED_ID, Wallet ID = 3)
  - DID Wallet (Type = DECENTRALIZED_ID, Wallet ID = 4)
  - NFT Wallet (Type = NFT, Wallet ID = 5, associated with DID from Wallet ID 3)

Under Wallet Key 3 of this setup, it would not be possible to create another NFT wallet that is not associated with a DID, or another DID wallet that is associated with the DID from Wallet ID 3. However, it would be possible to create an NFT wallet that is associated with the DID from WALLET ID 4. It would also be possible to create a new DID within Wallet Key 3.

</details>

## Run the bulk minting tool

### Example 1

For this example, we'll mint 100 NFTs from a sample data set and send them to our own wallet. We'll also automatically create offers for each NFT.

1. Generate the factory (sample) data. The "t" flag indicates we should include a target address in the metadata csv:

```bash
python factory_metadata.py
```

The output of this command will be a royalty address and percentage (in basis points). A CSV file called `metadata.csv` will be created in the local directory. This file will contain the sample data.

```bash
Royalty Address: txch1sdgxkkj78k0xlppyxplakfwkk9aq6wc3envu8vsyrqhd4wfgruaqs6fdak
Royalty Percent: 300
```

2. Fix EOL Characters

This step is **required for Windows users**, and not needed for Linux or macOS users.

If you are running on Windows, the CSV file will contain an extra CR (carriage return) character at the end of each line. This will cause the bulk minting tool to fail. First, you must convert the CSV file to use UNIX-style end-of-line characters.

The easiest way to accomplish this is with `dos2unix`. This is not included with Windows, so you will need to download it from SourceForge.

Steps to convert the CSV file:

  * Visit the [SourceForge dos2unix site](https://sourceforge.net/projects/dos2unix/).
  * Click the green _“Download”_ button. After five seconds, the `dos2unix` zip file will be downloaded to your Downloads folder.
  * Unzip the `dos2unix` zip file.
  * From a PowerShell window, run:

   ```powershell
   <path to dos2unix.exe> -o <path to CSV file>
   ```

   For example:
   
   ```powershell
   ~\Downloads\dos2unix\bin\dos2unix.exe -o .\metadata.csv
   ```

   This message should appear in the output:
   
   ```
   dos2unix: converting file <CSV file> to Unix format...
   ```

3. Create the spend bundles. This command has four flags:
  * `-w`: the wallet ID for the NFT wallet (`3` in the above example) 
  * `-a`: the royalty address for the NFTs (typically this would be the artist's address)
  * `-r`: the royalty percentage, in basis points ("300" means 3%)
  * `output.pk1`: the name of the output file, which will contain the spend bundles

For example: 

```bash
chianft create-mint-spend-bundles -w 3 -a txch1sp6svdw2zca0m9n2d7vpl9n30furhjuzjv3w6e6erfg2wgdlnl0qqcujk0 -r 300 metadata.csv output.pk1
```

You may see a warning such as:

```bash
 warnings.warn("`coin_solutions` is now `coin_spends` in `SpendBundle.from_json_dict`")
```

This can be safely ignored.

4. Submit the spend bundles created in the output file (output.pk1 in this example). This command has two flags:
    * `-m`: an optional fee, in mojos
    * `-o`: set this to create an offer file for each NFT, using the specified price. In this example, the offer price will be 100 mojos:

```bash
chianft submit-spend-bundles -m 10 -o 100 output.pk1
```

